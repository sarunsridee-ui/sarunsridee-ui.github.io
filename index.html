<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Ghost Web</title>
  <style>
    body {
      background: black;
      color: white;
      text-align: center;
      font-family: sans-serif;
      margin: 0;
      padding-top: 50px;
    }
    #ghost {
      display: none;
      width: 80%;
      max-width: 300px;
    }
    #msg {
      display: none;
      font-size: 24px;
      color: red;
    }
    button {
      font-size: 20px;
      padding: 10px 20px;
      margin-top: 20px;
    }
  </style>
</head>
<body>

<h1>üëª ‡∏≠‡∏¢‡πà‡∏≤‡∏Å‡∏î</h1>

<img id="ghost" src="ghost0.jpg">

<br>
<button id="btn">‡∏Å‡∏î</button>
<button id="escape">‡∏´‡∏ô‡∏µ</button>

<div id="msg">you can't escape</div>

<audio id="scream" preload="auto">
  <source src="scary-scream-401725.mp3" type="audio/mpeg">
</audio>

<script>
/* =======================
   üîì ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠
   ======================= */
const scream = document.getElementById("scream");
document.body.addEventListener("click", () => {
  scream.muted = false;
  scream.play().then(() => {
    scream.pause();
    scream.currentTime = 0;
  }).catch(()=>{});
}, { once: true });

/* =======================
   ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏´‡∏•‡∏±‡∏Å
   ======================= */
let clickCount = 0;
const btn = document.getElementById("btn");
const ghost = document.getElementById("ghost");
const escapeBtn = document.getElementById("escape");
const msg = document.getElementById("msg");

const ghostImages = [
  "ghost0.jpg",
  "ghost1.jpg",
  "ghost2.jpg",
  "ghost3.jpg",
  "ghost4.jpg",
  "ghost5.jpg",
  "ghost666.jpg"
];

const youtubeLink = "https://youtu.be/B0mPwbedJCo";

/* =======================
   ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î
   ======================= */
btn.onclick = () => {
  clickCount++;

  if (clickCount <= ghostImages.length) {
    ghost.src = ghostImages[clickCount - 1];
    ghost.style.display = "block";
  }

  // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á
  scream.currentTime = 0;
  scream.volume = 1;
  scream.play();

  // ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ = ‡∏´‡∏•‡∏≠‡∏ô + ‡πÄ‡∏î‡πâ‡∏á YouTube
  if (clickCount === ghostImages.length) {
    document.body.style.background = "red";

    setTimeout(() => {
      window.location.href = youtubeLink;
    }, 5000);
  }
};

/* =======================
   ‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏ô‡∏µ (‡∏´‡∏•‡∏≠‡∏Å)
   ======================= */
escapeBtn.onclick = () => {
  escapeBtn.style.display = "none";
  msg.style.display = "block";
};
</script>

</body>
</html>  // üëâ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 1 : ‡∏ú‡∏µ‡πÅ‡∏ß‡πâ‡∏ö + ‡πÄ‡∏™‡∏µ‡∏¢‡∏á
  if(clickCount === 1){
    ghost.src = ghosts[0] + "?v=1";
    ghost.style.display = "block";
    scream.volume = 1;
    scream.currentTime = 0;
    scream.play();
    setTimeout(()=>ghost.style.display="none",700);
  }

  // üëâ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 2 : ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î
  else if(clickCount === 2){
    document.body.style.background = "darkred";
    document.body.style.color = "black";
    btn.style.background = "red";
    btn.style.color = "black";
  }

  // üëâ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 3 : ‡∏ô‡∏£‡∏Å‡πÅ‡∏ï‡∏Å
  else if(clickCount === 3){
    btn.style.display = "none";

    setTimeout(()=>{
      ghost.style.display = "block";
      document.body.classList.add("shake");
      escapeBtn.style.display = "block";

      let i = 0;
      ghostLoop = setInterval(()=>{
        ghost.src = ghosts[i % ghosts.length] + "?v=" + i;
        i++;
      }, 400);

      scream.loop = true;
      scream.volume = 0.1;
      scream.currentTime = 0;
      scream.play();

      let v = 0.1;
      volumeLoop = setInterval(()=>{
        v += 0.05;
        if(v >= 1){
          v = 1;
          scream.playbackRate = 1.3;
        }
        scream.volume = v;
      }, 500);

      document.body.style.background = "red";

      // ‚è±Ô∏è 5 ‡∏ß‡∏¥ ‡∏ß‡∏≤‡∏£‡πå‡∏õ YouTube (https://youtu.be/B0mPwbedJCo?si=gRY8KIMN3h6tUKLB)
      setTimeout(()=>{
        window.location.href = "https://youtu.be/B0mPwbedJCo?si=gRY8KIMN3h6tUKLB";
      }, 5000);

    }, 2500);
  }
};

escapeBtn.onclick = ()=>{
  escapeBtn.style.display = "none";
  msg.style.display = "block";
};
</script>

</body>
</html>
